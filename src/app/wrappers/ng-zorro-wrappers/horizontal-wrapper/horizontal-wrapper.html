<div class="mb-3">
  <div class="d-flex align-items-center">
    <!-- Label -->
    <div class="col-2">
      <label *ngIf="to.label" [ngClass]="to['labelClass']" [ngStyle]="to['labelStyle']" [attr.for]="to['id']">
        {{ to.label }}
      </label>
    </div>

    <!-- Field -->
    <div class="col-10">
      <ng-container [ngSwitch]="field.type">

        <!-- Input -->
        <input *ngSwitchCase="'text'" nz-input type="text" [placeholder]="to.placeholder" [formControl]="formControl"
          [id]="to['id']" [autocomplete]="to['autocomplete']" [ngStyle]="to['style']"
          (contextmenu)="showContextMenu($event)" #inputField />

        <!-- Textarea -->
        <textarea *ngSwitchCase="'textarea'" nz-input [rows]="to['rows'] || 3" [placeholder]="to.placeholder"
          [formControl]="formControl" [id]="to['id']" [ngStyle]="to['style']" (contextmenu)="showContextMenu($event)"
          #inputField></textarea>

        <!-- Select -->
        <nz-select *ngSwitchCase="'select'" [formControl]="formControl" [id]="to['id']"
          [nzPlaceHolder]="'Select an option'" [ngStyle]="to['style']" (contextmenu)="showContextMenu($event)"
          #inputField>
          <ng-container *ngIf="options$ | async as options">
            <nz-option *ngFor="let option of options" [nzValue]="option.value" [nzLabel]="option.label">
            </nz-option>
          </ng-container>
        </nz-select>

        <!-- Radio -->
        <nz-radio-group *ngSwitchCase="'radio'" [formControl]="formControl" [ngStyle]="to['style']"
          (contextmenu)="showContextMenu($event)" #inputField>
          <ng-container *ngIf="options$ | async as options">
            <label nz-radio *ngFor="let option of options" [nzValue]="option.value" class="me-3">
              {{ option.label }}
            </label>
          </ng-container>
        </nz-radio-group>

        <!-- Default Input -->
        <input *ngSwitchDefault nz-input type="text" [placeholder]="to.placeholder" [formControl]="formControl"
          [id]="to['id']" [ngStyle]="to['style']" (contextmenu)="showContextMenu($event)" #inputField />

      </ng-container>
    </div>
  </div>

  <!-- Validation -->
  <nz-form-item *ngIf="showError">
    <nz-form-control [nzErrorTip]="errorTpl">
      <ng-template #errorTpl>
        <formly-validation-message [field]="field"></formly-validation-message>
      </ng-template>
    </nz-form-control>
  </nz-form-item>
</div>

<!-- Context Menu -->
<div *ngIf="menuVisible" class="custom-menu" [ngStyle]="{ top: menuPosition.y + 'px', left: menuPosition.x + 'px' }">
  <ul class="list-group">
    <li class="list-group-item" (click)="to['openEditFieldModal'](to['index'])" data-bs-toggle="modal"
      data-bs-target="#editFieldModal">
      Edit Field
    </li>
    <li class="list-group-item" (click)="to['deleteField'](to['index'])">
      Delete Field
    </li>
  </ul>
</div>